!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("ngx-sharebuttons"),require("ngx-sharebuttons/buttons"),require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@fortawesome/angular-fontawesome")):"function"==typeof define&&define.amd?define("ngx-sharebuttons/popup",["exports","@angular/core","@angular/common","ngx-sharebuttons","ngx-sharebuttons/buttons","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/portal","@fortawesome/angular-fontawesome"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-sharebuttons"]=e["ngx-sharebuttons"]||{},e["ngx-sharebuttons"].popup={}),e.ng.core,e.ng.common,e["ngx-sharebuttons"],e["ngx-sharebuttons"].buttons,e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.cdk.portal,e.angularFontawesome)}(this,(function(e,t,o,n,s,i,r,a,p){"use strict";var u=new t.InjectionToken("SHARE_POPUP_OPTIONS"),c=function(){function e(e,t,o,n){this._document=e,this.options=t,this._focusTrapFactory=o,this._elementRef=n,this._savePreviouslyFocusedElement()}return Object.defineProperty(e.prototype,"isBtnCopy",{get:function(){return this.options.exclude&&this.options.exclude.filter((function(e){return"copy"===e})).length>0},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._trapFocus()},e.prototype.ngOnDestroy=function(){this.overlayRef.dispose(),this._restoreFocus()},e.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()},e.prototype._savePreviouslyFocusedElement=function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return e._elementRef.nativeElement.focus()})))},e.prototype._restoreFocus=function(){var e=this._elementFocusedBeforeDialogWasOpened;e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()},e}();c.decorators=[{type:t.Component,args:[{selector:"share-buttons-popup",template:'<div class="sb-overlay">\n  <h3>Share</h3>\n  <div *ngIf="isBtnCopy" #shareButton="shareButton" shareButton="copy" class="sb-copy-url">\n    <span>{{ shareButton?.url }}</span>\n  </div>\n\n  <share-buttons [include]="options?.include"\n                 [exclude]="options?.exclude"\n                 [theme]="options?.theme"\n                 [url]="options?.url"\n                 [title]="options?.title"\n                 [description]="options?.description"\n                 [image]="options?.image"\n                 [tags]="options?.tags"\n                 [autoSetMeta]="options?.autoSetMeta"\n                 [show]="options?.show"\n                 [showIcon]="options?.showIcon"\n                 [showText]="options?.showText"\n                 [size]="options?.size"\n                 (opened)="options?.opened?.emit($event)"\n                 (closed)="options?.closed?.emit($event)"\n                 [disabled]="options?.disabled">\n  </share-buttons>\n\n  <div class="sb-close-overlay" (click)="options.closeClick.emit()">\n    <fa-icon [icon]="options.closeIcon"></fa-icon>\n  </div>\n\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,host:{tabindex:"-1","aria-modal":"true","[attr.role]":"role","[attr.aria-labelledby]":"ariaLabel ? null : ariaLabelledBy","[attr.aria-label]":"ariaLabel","[attr.aria-describedby]":"ariaDescribedBy || null"},styles:[".sb-close-overlay,:host{align-items:center;display:flex;justify-content:center}h3{margin:5px;position:absolute;top:5px}.sb-overlay{display:flex;flex-direction:column;max-height:100%;max-width:100%;padding:1em;position:relative;width:300px}::ng-deep share-buttons-popup{background:#fff;border-radius:16px;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:block;max-height:90vh;max-width:94vw;position:relative}::ng-deep share-buttons-popup:focus{outline:none}::ng-deep share-buttons-popup share-buttons{display:block;height:100%;margin-top:30px;width:100%}::ng-deep .sb-backdrop{background-color:rgba(0,0,0,.32)}::ng-deep .fullscreen{width:100%}::ng-deep .fullscreen ::ng-deep share-buttons-popup{border-radius:0;bottom:0;height:100%;left:0;max-height:unset;max-width:unset;position:fixed;right:0;top:0;width:100%}::ng-deep .sb-overlay{margin:auto}@media only screen and (max-width:480px){::ng-deep .sb-overlay{width:100%}::ng-deep .sb-overlay ::ng-deep share-buttons-popup{border-radius:0;bottom:0;height:100%;left:0;max-height:unset;max-width:unset;position:fixed;right:0;top:0;width:100%}}::ng-deep .sb-overlay .sb-button{flex:1}::ng-deep .sb-overlay .sb-wrapper{width:100%}::ng-deep .sb-overlay .sb-wrapper .sb-icon{flex:1}::ng-deep .sb-overlay .sb-wrapper .sb-text{flex:2}::ng-deep .sb-close-overlay{color:#2e4057;cursor:pointer;font-size:20px;height:40px;margin:5px;position:absolute;right:0;top:0;width:40px;z-index:60}@media only screen and (max-width:480px){::ng-deep .sb-close-overlay{margin:2px}}"]}]}],c.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[o.DOCUMENT]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[u]}]},{type:i.FocusTrapFactory},{type:t.ElementRef}]};var l=function(){function e(e,t){this._overlay=e,this._injector=t}return e.prototype.open=function(e){var t=this;if(!this._overlayRef||!this._overlayRef.hasAttached()){this._overlayRef=this._overlay.create({backdropClass:"sb-backdrop",hasBackdrop:!0,panelClass:"",positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block(),disposeOnNavigation:!0});var o=new a.ComponentPortal(c,null,this.createInjector(e));this._overlayRef.attach(o).instance.overlayRef=this._overlayRef,e.hasBackdrop&&this._overlayRef.backdropClick().subscribe((function(){return t.close()}))}},e.prototype.close=function(){this._overlayRef.hasAttached()&&this._overlayRef.detach()},e.prototype.createInjector=function(e){var t=new WeakMap;return t.set(u,e),new a.PortalInjector(this._injector,t)},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[{type:r.Overlay},{type:t.Injector}]};var h=function(){function e(e,o){var s=this;this._sharePopup=e,this._share=o,this.theme=this._share.config.theme,this.include=Object.keys(n.SHARE_BUTTONS),this.closeIcon=["fas","times-circle"],this.showIcon=!0,this.showText=!1,this.size=0,this.hasBackdrop=!0,this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.popupClosed=new t.EventEmitter,this._popupClosed=this.popupClosed.subscribe((function(){return s.close()}))}return e.prototype.onClick=function(e){this._sharePopup.open({theme:this.theme,include:this.include,exclude:this.exclude,url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,autoSetMeta:this.autoSetMeta,show:this.show,showIcon:this.showIcon,showText:this.showText,size:this.size,disabled:this.disabled,opened:this.opened,closed:this.closed,closeIcon:this.closeIcon,closeClick:this.popupClosed,hasBackdrop:this.hasBackdrop,backdropClass:this.backdropClass})},e.prototype.ngOnDestroy=function(){this._popupClosed.unsubscribe()},e.prototype.close=function(){this._sharePopup.close()},e}();h.decorators=[{type:t.Directive,args:[{selector:"[shareButtonsPopup]"}]}],h.ctorParameters=function(){return[{type:l},{type:n.ShareService}]},h.propDecorators={theme:[{type:t.Input}],include:[{type:t.Input}],exclude:[{type:t.Input}],closeIcon:[{type:t.Input}],url:[{type:t.Input}],title:[{type:t.Input}],description:[{type:t.Input}],image:[{type:t.Input}],tags:[{type:t.Input}],autoSetMeta:[{type:t.Input}],show:[{type:t.Input}],showIcon:[{type:t.Input}],showText:[{type:t.Input}],size:[{type:t.Input}],disabled:[{type:t.Input}],hasBackdrop:[{type:t.Input}],backdropClass:[{type:t.Input}],opened:[{type:t.Output}],closed:[{type:t.Output}],popupClosed:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var d=function(e,o){this._sharePopup=e,this._share=o,this.theme=this._share.config.theme,this.icon=["fas","share"],this.text="Share",this.closeIcon=["fas","times-circle"],this.showIcon=!0,this.showText=!1,this.size=0,this.hasBackdrop=!0,this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.popupClosed=new t.EventEmitter};d.decorators=[{type:t.Component,args:[{selector:"share-popup-button",template:'\n    <div class="sb-button sb-{{theme}}">\n      <button shareButtonsPopup\n              class="sb-wrapper"\n              [theme]="theme"\n              [include]="include"\n              [exclude]="exclude"\n              [show]="show"\n              [url]="url"\n              [showIcon]="showIcon"\n              [showText]="showText"\n              [size]="size"\n              [tags]="tags"\n              [autoSetMeta]="autoSetMeta"\n              [title]="title"\n              [description]="description"\n              [image]="image"\n              (closed)="closed.emit($event)"\n              (opened)="opened.emit($event)">\n        <div class="sb-content">\n\n          <div *ngIf="showIcon" class="sb-icon">\n            <fa-icon [icon]="icon" [fixedWidth]="true"></fa-icon>\n          </div>\n\n          <div *ngIf="showText" class="sb-text">\n            {{ text }}\n          </div>\n\n        </div>\n      </button>\n    </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[":host{--button-color:#282c34}"]}]}],d.ctorParameters=function(){return[{type:l},{type:n.ShareService}]},d.propDecorators={theme:[{type:t.Input}],icon:[{type:t.Input}],text:[{type:t.Input}],include:[{type:t.Input}],exclude:[{type:t.Input}],closeIcon:[{type:t.Input}],url:[{type:t.Input}],title:[{type:t.Input}],description:[{type:t.Input}],image:[{type:t.Input}],tags:[{type:t.Input}],autoSetMeta:[{type:t.Input}],show:[{type:t.Input}],showIcon:[{type:t.Input}],showText:[{type:t.Input}],size:[{type:t.Input}],disabled:[{type:t.Input}],hasBackdrop:[{type:t.Input}],backdropClass:[{type:t.Input}],opened:[{type:t.Output}],closed:[{type:t.Output}],popupClosed:[{type:t.Output}]};var y=function(){function e(){}return e.withConfig=function(e){return{ngModule:s.ShareButtonsModule,providers:[{provide:n.SHARE_BUTTONS_CONFIG,useValue:e}]}},e}();y.decorators=[{type:t.NgModule,args:[{declarations:[c,h,d],imports:[o.CommonModule,s.ShareButtonsModule,p.FontAwesomeModule],exports:[s.ShareButtonsModule,c,h,d],providers:[l]}]}],e.ShareButtonsPopup=c,e.ShareButtonsPopupModule=y,e.ɵb=u,e.ɵc=h,e.ɵd=l,e.ɵe=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-sharebuttons-popup.umd.min.js.map