!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/platform"),require("@angular/cdk/clipboard"),require("@angular/common"),require("@angular/platform-browser"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-sharebuttons",["exports","@angular/core","@angular/cdk/platform","@angular/cdk/clipboard","@angular/common","@angular/platform-browser","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-sharebuttons"]={},t.ng.core,t.ng.cdk.platform,t.ng.cdk.clipboard,t.ng.common,t.ng.platformBrowser,t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,a,i,o,n,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function h(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,i,o=r.call(t),n=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)n.push(a.value)}catch(t){i={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return n}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}Object.create;var p,u=new e.InjectionToken("shareButtonsConfig"),l=function(){};function d(t){return t&&"object"==typeof t&&!Array.isArray(t)}function f(t){for(var e,r,a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];if(!a.length)return t;var o=a.shift();if(d(t)&&d(o))for(var n in o)d(o[n])?(t[n]||Object.assign(t,((e={})[n]={},e)),f(t[n],o[n])):Object.assign(t,((r={})[n]=o[n],r));return f.apply(void 0,c([t],a))}(p=t.SharerMethod||(t.SharerMethod={})).Anchor="anchor",p.Window="window";var m=function(t){return t.description?t.description+"\r\n"+t.url:t.url},g={description:m},b={text:"Copy link",icon:["fas","link"],successText:"Copied",successIcon:["fas","check"],delay:2e3},y={facebook:{type:"facebook",text:"Facebook",ariaLabel:"Share on Facebook",icon:["fab","facebook-f"],color:"#4267B2",share:{desktop:"https://www.facebook.com/sharer/sharer.php?"},params:{url:"u"}},twitter:{type:"twitter",text:"Twitter",ariaLabel:"Share on Twitter",icon:["fab","twitter"],color:"#00acee",share:{desktop:"https://twitter.com/intent/tweet?"},params:{url:"url",description:"text",tags:"hashtags",via:"via"}},linkedin:{type:"linkedin",text:"LinkedIn",ariaLabel:"Share on LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",share:{desktop:"https://www.linkedin.com/shareArticle?"},params:{url:"url",title:"title",description:"summary"}},pinterest:{type:"pinterest",text:"Pinterest",ariaLabel:"Share on Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",share:{desktop:"https://pinterest.com/pin/create/button/?"},params:{url:"url",description:"description",image:"media"}},reddit:{type:"reddit",text:"Reddit",ariaLabel:"Share on Reddit",icon:["fab","reddit-alien"],color:"#FF4006",share:{desktop:"https://www.reddit.com/submit?"},params:{url:"url",title:"title"}},tumblr:{type:"tumblr",text:"Tumblr",ariaLabel:"Share on Tumblr",icon:["fab","tumblr"],color:"#36465D",share:{desktop:"https://tumblr.com/widgets/share/tool?"},params:{url:"canonicalUrl",description:"caption",tags:"tags"}},mix:{type:"mix",text:"Mix",ariaLabel:"Share on Mix",icon:["fab","mix"],color:"#eb4924",share:{desktop:"https://mix.com/add?"},params:{url:"url"}},viber:{type:"viber",text:"Viber",ariaLabel:"Share on Viber",icon:["fab","viber"],color:"#665ca7",share:{android:"viber://forward?",ios:"viber://forward?"},params:{description:"text"},paramsFunc:g},vk:{type:"vk",text:"VKontakte",ariaLabel:"Share on VKontakte",icon:["fab","vk"],color:"#4C75A3",share:{desktop:"https://vk.com/share.php?"},params:{url:"url"}},telegram:{type:"telegram",text:"Telegram",ariaLabel:"Share on Telegram",icon:["fab","telegram-plane"],color:"#0088cc",share:{desktop:"https://t.me/share/url?"},params:{url:"url",description:"text"}},messenger:{type:"messenger",text:"Messenger",ariaLabel:"Share on Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",share:{android:"fb-messenger://share/?",ios:"fb-messenger://share/?"},params:{url:"link"}},whatsapp:{type:"whatsapp",text:"WhatsApp",ariaLabel:"Share on WhatsApp",icon:["fab","whatsapp"],color:"#25D366",share:{desktop:"https://web.whatsapp.com/send?",android:"whatsapp://send?",ios:"https://api.whatsapp.com/send?"},params:{description:"text"},paramsFunc:g},xing:{type:"xing",text:"Xing",ariaLabel:"Share on Xing",icon:["fab","xing"],color:"#006567",share:{desktop:"https://www.xing.com/spi/shares/new?"},params:{url:"url"}},line:{type:"line",text:"Line",ariaLabel:"Share on Line",icon:["fab","line"],color:"#00b900",share:{desktop:"https://social-plugins.line.me/lineit/share?"},params:{url:"url"}},sms:{type:"sms",text:"SMS",ariaLabel:"Share link via SMS",icon:["fas","sms"],color:"#20c16c",share:{desktop:"sms:?",ios:"sms:&"},params:{description:"body"},paramsFunc:g},email:{type:"email",text:"Email",ariaLabel:"Share link via email",icon:["fas","envelope"],color:"#FF961C",share:{desktop:"mailto:?"},params:{title:"subject",description:"body"},paramsFunc:g},print:{type:"print",text:"Print",ariaLabel:"Print page",icon:["fas","print"],color:"#765AA2",func:function(){return new n.Observable((function(t){return document.defaultView.print()}))}},copy:{type:"copy",text:"Copy link",ariaLabel:"Copy link",icon:["fas","link"],color:"#607D8B",data:b,func:function(t){var e=t.params,r=t.data,a=t.clipboard,i=t.updater;return n.of(null).pipe(s.tap((function(){a.copy(e.url),i.next({icon:r.successIcon,text:r.successText,disabled:!0})})),s.delay(r.delay),s.tap((function(){return i.next({icon:r.icon,text:r.text,disabled:!1})})),s.take(1))}}},w=function(){function e(e,r){this._document=r,this.config={sharerMethod:t.SharerMethod.Anchor,sharerTarget:"_blank",windowObj:this._document.defaultView,windowFuncName:"open",prop:y,theme:"default",include:[],exclude:[],size:0,autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus"},this.config$=new n.BehaviorSubject(this.config),e&&this.setConfig(e)}return Object.defineProperty(e.prototype,"prop",{get:function(){return this.config.prop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowSize",{get:function(){return"width="+this.config.windowWidth+", height="+this.config.windowHeight},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(t){this.config=f(this.config,t),this.config$.next(this.config)},e.prototype.addButton=function(t,e){var r;this.setConfig({prop:(r={},r[t]=e,r)})},e}();w.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new w(e.ɵɵinject(u,8),e.ɵɵinject(i.DOCUMENT))},token:w,providedIn:"root"}),w.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[u]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]}]};var _=function(){function r(t,r,a,i,o,s,h){this._meta=r,this._platform=a,this._clipboard=i,this._share=o,this._cd=s,this._document=h,this._destroyed=new n.Subject,this._updater=new n.Subject,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.opened=new e.EventEmitter,this.closed=new e.EventEmitter,this._el=t.nativeElement}return r.prototype.share=function(){if(this._platform.isBrowser&&this.shareButton){var t=this.autoSetMeta?this.getParamsFromMetaTags():this.getParamsFromInputs();(this.shareButton.share?this.open(t):this.shareButton.func({params:t,data:this.shareButton.data,clipboard:this._clipboard,updater:this._updater})).pipe(s.takeUntil(this._destroyed)).subscribe()}else console.warn(this.text+" button is not compatible on this Platform")},r.prototype.ngOnInit=function(){var t=this;this._updater.pipe(s.tap((function(e){t.icon=e.icon,t.text=e.text,t._el.style.pointerEvents=e.disabled?"none":"auto",t._cd.markForCheck()})),s.takeUntil(this._destroyed)).subscribe()},r.prototype.ngOnChanges=function(t){this._platform.isBrowser&&(this._shareButtonChanged(t.shareButtonName)&&this._createShareButton(),this._urlChanged(t.url)&&(this.url=function(t,e){if(t){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t))return t;console.warn("[ShareButtons]: Sharing link '"+t+"' is invalid!")}return e}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href)))},r.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},r.prototype._createShareButton=function(){var t=this._share.config.prop[this.shareButtonName];t?(this.shareButton=t,this._el.classList.remove("sb-"+this._buttonClass),this._el.classList.add("sb-"+this.shareButtonName),this._el.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this.color=this.shareButton.color,this.text=this.shareButton.text,this.icon=this.shareButton.icon,this._el.setAttribute("aria-label",t.ariaLabel)):console.error("[ShareButtons]: The share button '"+this.shareButtonName+"' does not exist!")},r.prototype._getMetaTagContent=function(t){var e=this._meta.getTag('property="'+t+'"');if(e)return e.getAttribute("content");var r=this._meta.getTag('name="'+t+'"');return r?r.getAttribute("content"):void 0},r.prototype._shareButtonChanged=function(t){return t&&(t.firstChange||t.previousValue!==t.currentValue)},r.prototype._urlChanged=function(t){return!this.url||t&&t.previousValue!==t.currentValue},r.prototype.getParamsFromMetaTags=function(){return{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}},r.prototype.getParamsFromInputs=function(){return{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount}},r.prototype.open=function(e){var r,a=this;if(r=this._platform.IOS&&this.shareButton.share.ios?this.shareButton.share.ios:this._platform.ANDROID&&this.shareButton.share.android?this.shareButton.share.android:this.shareButton.share.desktop){this._finalUrl=r+this._serializeParams(e),this._share.config.debug&&console.log("[DEBUG SHARE BUTTON]: ",this._finalUrl);var i=this.shareButton.method||this._share.config.sharerMethod,o=this.shareButton.target||this._share.config.sharerTarget;switch(i){case t.SharerMethod.Anchor:var s=this._document.createElement("a");s.setAttribute("target",o),s.setAttribute("rel","noopener noreferrer"),s.href=this._finalUrl,s.click(),s.remove();break;case t.SharerMethod.Window:var h=(0,this._share.config.windowObj[this._share.config.windowFuncName])(this._finalUrl,o,this._share.windowSize);if(this._share.config.windowObj.opener=null,h)return new n.Observable((function(t){var e=a._document.defaultView.setInterval((function(){h.closed&&(a._document.defaultView.clearInterval(e),a.closed.emit(a.shareButtonName),t.next(),t.complete())}),200)}))}this.opened.emit(this.shareButtonName)}return n.EMPTY},r.prototype._serializeParams=function(t){var e=this;return Object.entries(this.shareButton.params).map((function(r){var a=h(r,2),i=a[0],o=a[1],n=e.shareButton.paramsFunc?e.shareButton.paramsFunc[i]:null;if(t[i]||n){var s=n?n(t):t[i];return o+"="+encodeURIComponent(s)}return""})).filter((function(t){return""!==t})).join("&")},r}();_.decorators=[{type:e.Directive,args:[{selector:"[shareButton]",exportAs:"shareButton"}]}],_.ctorParameters=function(){return[{type:e.ElementRef},{type:o.Meta},{type:r.Platform},{type:a.Clipboard},{type:w},{type:e.ChangeDetectorRef},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]}]},_.propDecorators={shareButtonName:[{type:e.Input,args:["shareButton"]}],autoSetMeta:[{type:e.Input}],url:[{type:e.Input}],title:[{type:e.Input}],description:[{type:e.Input}],image:[{type:e.Input}],tags:[{type:e.Input}],opened:[{type:e.Output}],closed:[{type:e.Output}],share:[{type:e.HostListener,args:["click"]}]};var v=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:u,useValue:e}]}},t}();v.decorators=[{type:e.NgModule,args:[{imports:[r.PlatformModule,a.ClipboardModule],declarations:[_],exports:[_]}]}],t.IShareButton=l,t.SHARE_BUTTONS=y,t.SHARE_BUTTONS_CONFIG=u,t.ShareDirective=_,t.ShareModule=v,t.ShareService=w,t.ɵ0=m,t.ɵ1=b,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-sharebuttons.umd.min.js.map